{
    "name": "Core library",
    "action": false,
    "description": "The core library for Visual Ops",
    "library": [
        {
            "#": "get your ID",
            "name": "getMeId",
            "result": {
                "getmember": {
                    "var": "me",
                    "name": "id"
                }
            }
        },
        {
            "#": "return TRUE if you are the creator",
            "name": "iAmCreator",
            "result": {
                "equal": [
                    {
                        "getMeId": {}
                    },
                    {
                        "getmember": {
                            "var": "createdBy",
                            "name": "id"
                        }
                    }
                ]
            }
        },
        {
            "#": "return TRUE if you are the creator",
            "name": "displayEditableByCreator",
            "result": {
                "if": {
                    "p": {
                        "present": {}
                    },
                    "then": {
                        "select": [
                            {
                                "if": {
                                    "p": {
                                        "iAmCreator": {}
                                    },
                                    "then": {
                                        "map": []
                                    }
                                }
                            },
                            {
                                "map": [
                                    {
                                        "setmember": {
                                            "name": "disabled",
                                            "value": {
                                                "true": {}
                                            }
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                }
            },
            "tests": [
                {
                    "name": "Creator",
                    "input": {
                        "context": {
                            "me": {
                                "id": "xx"
                            },
                            "createdBy": {
                                "id": "xx"
                            }
                        },
                        "coll": [
                            {
                                "var": "v1",
                                "text": "Num 1",
                                "type": "number"
                            },
                            {
                                "var": "v2",
                                "text": "Num 2",
                                "type": "number"
                            }
                        ]
                    }
                },
                {
                    "name": "Non-Creator",
                    "input": {
                        "context": {
                            "me": {
                                "id": "xx"
                            },
                            "createdBy": {
                                "id": "yy"
                            }
                        },
                        "coll": [
                            {
                                "var": "v1",
                                "text": "Num 1",
                                "type": "number"
                            },
                            {
                                "var": "v2",
                                "text": "Num 2",
                                "type": "number"
                            }
                        ]
                    }
                }
            ],
            "description": "Creator can edit the items, all others see them as read-only,",
            "type": "display"
        }
    ]
}