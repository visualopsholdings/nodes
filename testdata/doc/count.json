{
  "name": "Count",
  "description": "",
  "action": true,
  "scenarios": [],
  "refs": [],
  "keywords": [],
  "imports": [],
  "variables": [ 
  	{ "name": "count", "initial": 0, "volatile": true } 
  ],
  "states": [
    {
      "name": "step1",
      "elements": [
        {
          	"var": "in",
          	"text": "IN",
          	"type": "button",
          	"temporary": true,
			"styles": {
				"color": "black",
                "sound": "tink",
                "position": "left"
			}
        },
        {
          	"var": "out",
          	"text": "OUT",
          	"type": "button",
          	"temporary": true,
			"styles": {
				"color": "black",
                "sound": "tock",
                "position": "right"
			}
        },
        {
          "var": "total",
          "text": "total: {{count}}",
          "type": "text",
			"styles": {
				"bold": true
			}
        }
      ],
      "next": {
		"select": [
		  {
			"if": {
			  "p": {
				"inClicked": {}
			  },
			  "then": {
				"addOne": {}
			  }
			}
		  },
		  {
			"if": {
			  "p": {
				"outClicked": {}
			  },
			  "then": {
				"subOne": {}
			  }
			}
		  }
		]
      }
    }
  ],
  "library": [
    {
      "name": "inClicked",
      "result": {
        "equal": [
          {
            "getvar": "in"
          },
          {
            "data": "on"
          }
        ]
      }
    },
    {
      "name": "outClicked",
      "result": {
        "equal": [
          {
            "getvar": "out"
          },
          {
            "data": "on"
          }
        ]
      }
    },
    {
      "name": "addOne",
      "result": {
        "setvar": {
          "name": "count",
          "value": {
            "add": [
              {
                "getvar": "count"
              },
              {
                "integer": 1
              }
            ]
          }
        }
      }
    },
    {
      "name": "subOne",
      "result": {
        "setvar": {
          "name": "count",
          "value": {
            "add": [
              {
                "getvar": "count"
              },
              {
                "integer": -1
              }
            ]
          }
        }
      }
    }
  ],
  "handlers": [],
  "props": [],
  "tables": [],
  "views": {
    "stream": {
      "myq": { "true": {} },
	  "priority": { "number": 1.0 }
    }
  }
}
